---
epic: 3
story: 1
title: Expense Categories Chart
status: Done
priority: High
clickup:
  task_id: ""
  epic_task_id: ""
  list: "Backlog"
  url: ""
  last_sync: ""
---

# Story 3.1: Expense Categories Chart

As a user,  
I want to see a chart of spending by category,  
so that I can identify which activities take the most resources.

## ğŸ¯ Acceptance Criteria
- [x] AC1: Fetch expense data for the specific deputy from the `expenses` table.
- [x] AC2: Group expenses by category and calculate the sum for each.
- [x] AC3: Render a Bar or Doughnut chart using `Chart.js`.
- [x] AC4: Chart should be responsive and fit the dashboard layout.
- [x] AC5: Tooltips should show the formatted currency value for each category.

## ğŸ› ï¸ Dev Notes

### Frontend
- Use `react-chartjs-2` and `chart.js`.
- Component: `src/apps/frontend/src/components/Charts/ExpenseCategoryChart.tsx`.
- Data transformation: Grouping happens in `DeputyDashboard.tsx`.

### Data
- Expenses are stored in the `expenses` table. 

## ğŸ¤– CodeRabbit Integration
> **CodeRabbit Integration**: Disabled

## ğŸ“ Tasks / Subtasks
- [x] Task 1: Install `react-chartjs-2`.
- [x] Task 2: Create a reusable `ExpenseCategoryChart` component.
- [x] Task 3: Implement data fetching and grouping logic in `DeputyDashboard`.
- [x] Task 4: Integrate the chart into the `DeputyDashboard` layout.
- [x] Task 5: Add a "Last Updated" label or disclaimer to the chart section.
